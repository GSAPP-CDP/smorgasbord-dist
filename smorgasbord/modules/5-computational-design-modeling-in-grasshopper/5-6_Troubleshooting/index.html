<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>GSAPP SMORGASBORD</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/smorgasbord/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700"></noscript><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/9da1546.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1033e76.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/bc128ae.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/014361a.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/13a9edc.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/6f2bdec.js" as="script"><style data-vue-ssr-id="1dfbd988:0 517a8dd7:0 fa7ff0ca:0 4d3583ea:0 34da3673:0 fd42f946:0 f243d9c8:0 411a0fe8:0 1c72188d:0 77b1ef0b:0 3b3e78a8:0">body{margin:0;padding:0}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}#layout-module[data-v-cf310924]{display:flex;width:100%;height:100vh;background-color:#f2ede7;font-family:"IBM Plex Sans",Helvetica,sans-serif}a[data-v-cf310924],a[data-v-cf310924]:visited{color:#555}#nav-column[data-v-cf310924]{overflow-y:auto;flex-basis:350px;flex-grow:0;flex-shrink:0;padding:20px 30px}#logo[data-v-cf310924]{height:100px}#content-column[data-v-cf310924]{overflow-y:auto;width:100%}#graph-column[data-v-cf310924]{display:none}a[data-v-61c030eb]{text-decoration:none}.smorgasbord[data-v-61c030eb]{font-weight:700;font-size:1.5em}.links[data-v-31cab561]{border-bottom:2px dotted grey;margin-bottom:20px;padding:0 5px 20px}.nav[data-v-31cab561]{color:#4a4a4a;font-weight:700}a[data-v-31cab561]{display:inline-block}.title[data-v-31cab561]{font-size:2em;font-weight:700}.course[data-v-88b1a66c]{border-left:2px solid grey;padding-left:8px}.coursetitle[data-v-88b1a66c]{font-size:1.5em;margin-bottom:10px}.moduleindex[data-v-88b1a66c]{color:555;font-family:Lato;color:#000;font-size:.85em}.sequence[data-v-88b1a66c]{line-height:1.5em;margin-bottom:20px}.active>[data-v-c650d19c],.active[data-v-c650d19c],.nuxt-link-active[data-v-c650d19c]{color:#4cbf8f!important;font-weight:700}.moduleindex[data-v-c650d19c]{color:555;font-family:Lato;color:#000;line-height:1.5em}.sequence[data-v-c650d19c]{font-weight:400}.hover.sequence[data-v-c650d19c]{color:#0096ea!important}a[data-v-c650d19c]{text-decoration:none}a[data-v-c650d19c]:hover{color:#0096ea!important;font-weight:700}ul[data-v-c650d19c]{padding:0 0 0 10px;list-style-type:none}li[data-v-c650d19c]{color:grey}.bullet[data-v-c650d19c]:before{content:"•"}.sequencetitle[data-v-c650d19c]{font-weight:700;font-size:1.15em}.indexview.moduleindex[data-v-c650d19c]{font-size:1.25em}.indexview .sequence[data-v-c650d19c]{display:flex;flex-direction:row;border-top:2px solid #555;padding-top:5px;margin-bottom:5px}.indexview .sequence.hover[data-v-c650d19c]{border-top:2px solid #0096ea}.indexview .sequencetitle[data-v-c650d19c]{width:50%;padding-right:20px}.indexview .sequencemodules[data-v-c650d19c]{width:50%;font-style:italics}.indexview .ul[data-v-c650d19c]{padding-left:0}.post[data-v-70de2ff4]{padding:110px 30px 100px;max-width:800px;font-size:1em;font-weight:regular;color:#444;word-wrap:break-word}[data-v-70de2ff4] li,[data-v-70de2ff4] p{line-height:1.5em}blockquote[data-v-70de2ff4]{font-size:.9em;line-height:1.8em;color:#666}.postheader[data-v-70de2ff4]{padding-bottom:10px;border-bottom:1px solid #4cbf8f;margin-bottom:10px}.posttitle[data-v-70de2ff4]{font-weight:700;font-size:3em;color:#4cbf8f;margin-bottom:15px;word-break:break-word}.instruction[data-v-70de2ff4]{background-color:#ccc;border-radius:10px;padding:20px 10px}.instruction p[data-v-70de2ff4]:last-child{margin-bottom:0}[data-v-70de2ff4] img{width:100%;height:auto}[data-v-70de2ff4] img[src$="#img-left"]{max-width:50%;max-height:400px;padding:10px 15px 10px 0;float:left;clear:both}[data-v-70de2ff4] img[src$="#img-right"]{float:right;max-width:50%;max-height:400px;padding:10px 0 10px 15px;clear:both}[data-v-70de2ff4] h1,[data-v-70de2ff4] h2,[data-v-70de2ff4] h3,[data-v-70de2ff4] h4{clear:both}[data-v-70de2ff4] h3,[data-v-70de2ff4] h4{padding-top:2em}div.img+em[data-v-70de2ff4],img+em[data-v-70de2ff4]{color:#888;margin-bottom:10px;display:inline-block}.val[data-v-70de2ff4]{font-weight:700}[data-v-70de2ff4] code{background-color:#f4f4f4;padding:3px 6px;border-radius:5px}[data-v-70de2ff4] blockquote{border-left:2px solid #666;padding-left:20px;margin-left:10px;color:#666}.copyright[data-v-2354a23f]{color:#4a4a4a;font-size:.85em;padding:30px}a[data-v-2354a23f]:hover{color:#fd1789;border-bottom:1px dotted grey}.graph[data-v-9c60a860]{overflow:auto;height:100%}</style><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652190911/modules/5-computational-design-modeling-in-grasshopper/5-6_Troubleshooting/state.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652190911/modules/5-computational-design-modeling-in-grasshopper/5-6_Troubleshooting/payload.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652190911/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="layout-module" data-v-cf310924><div id="nav-column" data-v-cf310924><div id="logo" data-v-cf310924><div class="logo" style="width:220px" data-v-61c030eb data-v-cf310924><a href="/smorgasbord/" class="nuxt-link-active" data-v-61c030eb><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/logo_full.f44c15c.svg" data-v-61c030eb></a></div></div> <div id="nav" data-v-cf310924><div class="nav" data-v-31cab561 data-v-cf310924><div class="links" data-v-31cab561><div class="navlink" data-v-31cab561><a href="/smorgasbord/welcome" data-v-31cab561>Welcome</a></div> <div class="navlink" data-v-31cab561><a href="/smorgasbord/how-to-use-this-site" data-v-31cab561>How To Use This Site</a></div></div> <div class="moduleindex" data-v-88b1a66c data-v-31cab561><div class="coursetitle" data-v-88b1a66c>Mapping and Data</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/index" data-v-c650d19c>Introduction to Geographic Information Systems Concepts</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/141-what-is-gis" data-v-c650d19c> What is GIS?</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/142-spatial-data" data-v-c650d19c> Spatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/143-coordinates-projections" data-v-c650d19c> Coordinate Reference Systems & Projections</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/index" data-v-c650d19c>Introduction to GIS with QGIS</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/151-mapping-where" data-v-c650d19c> Mapping Where</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/152-print-layout" data-v-c650d19c> Print Layout</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/153-archives" data-v-c650d19c> Making data from Archives</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/154-observations" data-v-c650d19c> Making Data from Field Observations</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/155-satellites" data-v-c650d19c> Making Data from Satellites</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/156-aerial-imagery" data-v-c650d19c> Making Data from</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/157-atlas" data-v-c650d19c> A Subjective Atlas</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Computational Drawing</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/index" data-v-c650d19c>Introduction to Rhino</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-1_rhino-interface" data-v-c650d19c> The Rhino Interface</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-2_rhino-2d" data-v-c650d19c> Rhino 2D</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-3_rhino-3d" data-v-c650d19c> Rhino 3D</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-4_rhino-nurbs" data-v-c650d19c> Modeling with NURBS</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/index" data-v-c650d19c>Introduction to Architectural Drawing</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-1_orthographic-drawing" data-v-c650d19c> Orthographic Drawing: Plans & Sections</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-2_projection" data-v-c650d19c> Projection</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-3_rendering" data-v-c650d19c> Lighting, Materials & Rendering</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-4_compositing" data-v-c650d19c> Compositing</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: A - Grasshopper</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/index" data-v-c650d19c>Intro To Grasshopper</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/41-getting-started-with-grasshopper" data-v-c650d19c> Getting started with Grasshopper</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/42-exercise-hello-grasshopper" data-v-c650d19c> Exercise - Hello Grasshopper!</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/43-working-in-grasshopper" data-v-c650d19c> Working in Grasshopper</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/44-exercise-parametric-tower-part-1" data-v-c650d19c> Exercise - Parametric tower (part 1)</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/45-working-with-data" data-v-c650d19c> Working with data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/46-exercise-parametric-tower-part-2" data-v-c650d19c> Exercise - Parametric tower (part 2)</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/47-documentation-best-practices" data-v-c650d19c> Grasshopper Documentation Best Practices</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/48-Deriving-Spatial-Data" data-v-c650d19c> Deriving Spatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/49-Procedural-Rules" data-v-c650d19c> Parametric to Procedural</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/410-Generating-Exploring-Spatial-Data" data-v-c650d19c> Generating and Exploring Spatial Data</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/index" data-v-c650d19c>Computational Design Modeling In Grasshopper</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-1-Comp-Design-Modeling" data-v-c650d19c> What is a Computational Design Model?</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-2-Subdivide-Geometry" data-v-c650d19c> Subdividing Geometry for Analysis</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-3-Analysis-Tools" data-v-c650d19c> Building Custom Analysis Tools</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-4-Street-Grid" data-v-c650d19c> Parametric Streets, Blocks, and Parcels</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-5_Buildings-Density" data-v-c650d19c> Procedural Density and Building Types</a></li><li class="active" data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-6_Troubleshooting" aria-current="page" class="nuxt-link-exact-active nuxt-link-active" data-v-c650d19c> Putting Everything Together</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-7_Design-Space" data-v-c650d19c> Creating a Design Space and Exploring results</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: B - Python</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/index" data-v-c650d19c>Intro to Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/61-getting-started-with-Python" data-v-c650d19c> Getting started with Python</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/62-using-python-in-grasshopper" data-v-c650d19c> Using Python in Grasshopper</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/index" data-v-c650d19c>Fundamentals of Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/71-variables-lists-and-dictionaries" data-v-c650d19c> Variables, Lists, and Dictionaries</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/72-conditionals-and-loops" data-v-c650d19c> Conditionals and Loops</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/73-functions-and-classes" data-v-c650d19c> Functions and Classes</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/74-python-libraries" data-v-c650d19c> Python Libraries</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/index" data-v-c650d19c>Intro to Python Scripting in Rhino</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/81-accessing-the-rhino-apis-in-python" data-v-c650d19c> Accessing with the Rhino Libraries in Python</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/82-working-with-geometry-in-python" data-v-c650d19c> Working with geometry in Python</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/index" data-v-c650d19c>Working with Spatial Data in Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/101-data-manipulation" data-v-c650d19c> Data Manipulation</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/102-geospatial-data" data-v-c650d19c> Geospatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/103-spatial-analysis-point-pattern" data-v-c650d19c> Spatial Analysis – Point Patterns</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/104-spatial-analysis-correlation" data-v-c650d19c> Spatial Analysis – Correlation</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/105-spatial-analysis-clustering" data-v-c650d19c> Spatial Analysis – Clustering</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: C - Web and Interactivity</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/index" data-v-c650d19c>Interactive Web</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/110-javascript-in-browser" data-v-c650d19c> Javascript in the Browser I - Weather UI Design</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/111-data-and-apis" data-v-c650d19c> Data and APIs</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/112-javascript-in-the-browser" data-v-c650d19c> JavaScript in the Browser II - Events and UIs</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/113-javascript-in-the-browser" data-v-c650d19c> JavaScript in the Browser III - Events and UIs</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/index" data-v-c650d19c>Ambient Computing - Network Architecture</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/161-dynamic-environments" data-v-c650d19c> Ambient Environments</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/162-network-architecture" data-v-c650d19c> Network Architecture</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/163-low-and-high-programming" data-v-c650d19c> Low and High Programming</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/164-Intro-to-Processing-Lighting" data-v-c650d19c> Intro to Processing</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/165-Webhooks-Connecting-IFTTT-and-Processing" data-v-c650d19c> Webhooks - Connecting IFTTT and Processing</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/166-sounds-speech-and-macros" data-v-c650d19c> Sounds, Speech, and Macros</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/167-Markers-and-Tracking" data-v-c650d19c> Markers and Tracking</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/168-Computer-Vision" data-v-c650d19c> Computer Vision</a></li></ol></div> <!----> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/index" data-v-c650d19c>Behavioral Modeling - Intro</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/181-Unity-and-Agent-Based-Models" data-v-c650d19c> Agent Based Modeling</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/182-Intro-To-Unity" data-v-c650d19c> Intro to Unity</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/183-Agent-Based-Populations-and-Behavior-Bricks" data-v-c650d19c> Agent Based Modeling and Behavior Bricks</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/184-Mapbox-SDK-and-Routing" data-v-c650d19c> Mapbox SDK</a></li></ol></div></div></div> <div class="navlink" data-v-31cab561><a href="/smorgasbord/credits" data-v-31cab561>Credits</a></div></div></div></div> <div id="content-column" data-v-cf310924><div data-v-cf310924><div data-fetch-key="data-v-70de2ff4:0" class="post" data-v-70de2ff4><div class="postheader" data-v-70de2ff4><div class="posttitle" data-v-70de2ff4><span class="val" data-v-70de2ff4>Putting Everything Together</span></div> <div class="postauthor" data-v-70de2ff4>by <span class="val" data-v-70de2ff4>Luc Wilson</span></div> <!----></div> <div class="postbody" data-v-70de2ff4><div class="nuxt-content" data-v-70de2ff4 data-v-70de2ff4><h1 id="putting-everything-together" data-v-70de2ff4 data-v-70de2ff4><a href="#putting-everything-together" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Putting Everything Together</h1>
<h3 id="troubleshooting-when-everything-breaks" data-v-70de2ff4 data-v-70de2ff4><a href="#troubleshooting-when-everything-breaks" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a><em data-v-70de2ff4 data-v-70de2ff4><strong data-v-70de2ff4 data-v-70de2ff4>Troubleshooting when everything breaks</strong></em></h3>
<br data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-0_Teaser.1f6dcf5.gif" alt="description" data-v-34c0681c></div><p></p>
<h2 id="module-summary" data-v-70de2ff4 data-v-70de2ff4><a href="#module-summary" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Module Summary</h2>
<p data-v-70de2ff4 data-v-70de2ff4>In this module we are going to pull all the pieces of our computational design model together by applying our analysis tools to our inputs and procedural model.</p>
<p data-v-70de2ff4 data-v-70de2ff4>While this all may seem simple, "I'm just putting together all the pieces I've already built," a lot can go wrong, especially with data trees. Introducing concepts and techniques for troubleshooting grasshopper will be the primary focus of this module</p>
<h2 id="why-is-this-important" data-v-70de2ff4 data-v-70de2ff4><a href="#why-is-this-important" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Why is this important?</h2>
<p data-v-70de2ff4 data-v-70de2ff4>Learning how to troubleshoot you definition when it is not working correctly is an incredibly important skill to develop.</p>
<h2 id="tutorial" data-v-70de2ff4 data-v-70de2ff4><a href="#tutorial" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Tutorial</h2>
<p data-v-70de2ff4 data-v-70de2ff4>This tutorial has four sections:</p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Clean up and cluster inputs and procedural model.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Apply Daylight Analysis to Streets.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Apply Daylight Analysis to Buildings.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Apply View Analysis to Streets.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4>The majority of this module is applying our previously built analysis tools one by one to our procedural model and troubleshooting along they way. One issue that you will notice is that none of our tools initial work once applied. This is because the data tree structure in our procedural model is different from the data tree structure of grasshopper definitions where we originally made these tools. This is very common and you should not be surprised, and even expect, to run into data tree issues when combining multiple grasshopper definitions. However, as we address the data tree issues for this new structure, it will make each analysis tool more robust and reduce the chance that that this will happen in the future.</p>
<p data-v-70de2ff4 data-v-70de2ff4>At each step of this process you should be reviewing the visual output of each analysis as you apply them. Does the visual output make sense relative to what is being measured? It can be easy to just assume that the analysis is correct if you are getting color variation in the output and move on, however, really examine it first. Is there the most sun where you would expect it? Are there open views where their are few obstructions?</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-0_Complete.dc355c5.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>Complete definition.</em></p>
</blockquote>
<h3 id="1-clean-up-inputs-and-procedural-model" data-v-70de2ff4 data-v-70de2ff4><a href="#1-clean-up-inputs-and-procedural-model" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>1. Clean Up Inputs and Procedural Model</h3>
<p data-v-70de2ff4 data-v-70de2ff4>Before we start applying our analysis tools we need to clean up and cluster our inputs and procedural model. To start we are going to pull out all of the inputs that we have through out our definition.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Add-Inputs.2a005c3.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Add-Inputs_2.a0b2b95.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Move the inputs for Street Size, Parcel Width Range, Medium FAR Threshold, High FAR Threshold, and Floor to Floor Height to the left side of the canvas to be in vertical alignment with the other inputs.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Add intermediate, labeled parameter holders for each. They should be in a straight line with the components they are connected to on the right, but don't worry about keeping straight lines with the input on the left. Once we cluster this visual connection goes away.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4>Next we are going to create two clusters, one for the street grid, and one for the buildings. Why not one? You certainly could make one cluster and it would clean up the final definition. However, by making two it easily allows you to copy the street cluster over to a new definition and generate buildings in an entirely new method.</p>
<div class="nuxt-content-highlight" data-v-70de2ff4 data-v-70de2ff4><pre class="language-text line-numbers" data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Tip
Reusability is one reason to have multiple clusters. Separating out computationally heavy processes is another.
For example, if you had a particularly heavy analysis tool, you may not want to make it one cluster. Why not?
Any edit or change will trigger it to solve and disrupt your work. If you cluster the analysis separately from the
visualization and metric generation your could adjust inputs like threshold and epw files or gradient colors with waiting
for the analysis to solve each time you make a change. In our case, each analysis solves quickly enough that we do not
need to separate them.
</code></pre></div>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Cluster_1.c48be8a.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Cluster-1.ef9c0ee.gif" alt="description" data-v-34c0681c></div><p></p>
<ol start="3" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Next, select all of the portions of the street grid to cluster. These should include the labeled parameter holders at the start and end of the sequence but exclude the initial inputs on the left. Once selected either <code data-v-70de2ff4 data-v-70de2ff4>right click</code> or <code data-v-70de2ff4 data-v-70de2ff4>middle mouse wheel click</code> and select <code data-v-70de2ff4 data-v-70de2ff4>Cluster</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Right click on the center of your new cluster and label it "Street Grid."</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Cluster_2.9522a21.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-1_Cluster-2.b73151d.gif" alt="description" data-v-34c0681c></div><p></p>
<ol start="5" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Finally, repeat the same process for the building generation portion of the definition. Move clusters and outputs next to inputs.</li>
</ol>
<h3 id="2-daylight-to-streets" data-v-70de2ff4 data-v-70de2ff4><a href="#2-daylight-to-streets" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>2. Daylight to Streets</h3>
<br data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><strong data-v-70de2ff4 data-v-70de2ff4>THIS IS REALLY IMPORTANT</strong></p>
<p data-v-70de2ff4 data-v-70de2ff4>When combining grasshopper definitions it is very common to have a mis-match in data tree structures that can result in a very long computation time or even cause Rhino to crash. Before starting to put everything together, save you grasshopper definition!</p>
<p data-v-70de2ff4 data-v-70de2ff4>Next, in this situation or in others where you are making multiple connections at once, lock the solver (right click or middle mouse click) before you start and unlock only after everything is plugged in. Doing this has two benefits. First, it keeps grasshopper from solving in between each change -- saving you time, and second, it prevents a potential data tree structure mismatch from occurring during the process.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight.04c061b.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>Daylight definition from "Analysis Tools" module.</em></p>
</blockquote>
<p data-v-70de2ff4 data-v-70de2ff4>Now we are ready to start applying our previously developing spatial analysis tools (daylight and views) to our parametric urban design model.</p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Start by copying over you Daylight Analysis definition and placing it to the right of the geometry generation.</li>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Save</code> and <code data-v-70de2ff4 data-v-70de2ff4>Lock the solver</code>!</li>
<li data-v-70de2ff4 data-v-70de2ff4>Plug in the <code data-v-70de2ff4 data-v-70de2ff4>Buildings</code> (output from geometry generation to the left) into the <code data-v-70de2ff4 data-v-70de2ff4>Brep: Design</code> input and your <code data-v-70de2ff4 data-v-70de2ff4>Streets</code> into <code data-v-70de2ff4 data-v-70de2ff4>Srf: Open Space</code> input. Currently we don't have a context so we've <code data-v-70de2ff4 data-v-70de2ff4>Disabled</code> this input.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Change the input of <code data-v-70de2ff4 data-v-70de2ff4>Subdivision Size</code> to a value that will run quickly. In this example we are using 15 ft. This is so that if something goes wrong grasshopper will solve quickly making  troubleshooting easier. In the next module we will increase the resolution.</li>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Unlock the Solver</code></li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight1_Inputs.009e9aa.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Take a look at the visual output in Rhino. Does it look similar to the image below? There are two issues that immediately jump out. First, the subdivision covers the full extent of our site rather then just the streets. This is because our subdivision works on <code data-v-70de2ff4 data-v-70de2ff4>untrimmed surfaces</code> and out streets are <code data-v-70de2ff4 data-v-70de2ff4>trimmed surfaces</code> of the overall site boundary. Second, it is all one color. If working correctly we would see variation. This is likely because of a <code data-v-70de2ff4 data-v-70de2ff4>data tree issue</code>.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Surfaces.594bc7b.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Lets start by rebuilding the streets:</p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Explode Curve</code> the streets.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Input the <code data-v-70de2ff4 data-v-70de2ff4>Segments (S)</code> into a <code data-v-70de2ff4 data-v-70de2ff4>Join Curve</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Input the joined curves into a <code data-v-70de2ff4 data-v-70de2ff4>Boundary Surface</code> to turn back into surfaces.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Add a labeled parameter holder and plug into <code data-v-70de2ff4 data-v-70de2ff4>Srf: Open Space</code></li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4>This process effectively removes the history of the surface generation from the original site boundary. Often times exploding geometry and then rebuilding it through joining curves (as in our case) or lofting is the solution to similar issues.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Rebuild.f80d6e7.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>Trimmed surfaces come in but they don't come out.</em></p>
</blockquote>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Wrong.75ec0fe.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Take a look at the visual output. Does it look correct? Are areas you would expect to get more direct daylight getting it? In our case (above) we are now starting to get some color variation but the results don't make sense. We would expect to see red (most sun) at intersections or adjacent to low density buildings. When you see incorrect visualization like this it is almost always a data tree issue.
5. Double click to the center of the daylight cluster to edit it.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight-Cluster.57bc755.gif" alt="description" data-v-34c0681c></div><p></p>
<ol start="6" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Similar to the troubleshooting advice in the previous module we are going start at the end of the definition and use <code data-v-70de2ff4 data-v-70de2ff4>Param Viewer</code> to track data structures backward to identify where a mismatch first occurs. Plug a param viewer into the Analysis Surface and View Analysis Color outputs. They should match, have a list length equal to the number of analysis points, and be grafted (one item in each branch.) In our example we have one with 396 branches and one with 57.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Trouble-1.2efbfe9.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="7" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Move backward through the cluster comparing data trees using the Param Viewer. In this example the analysis points are coming in with 13 branches, one for each street segment. In the previous development of this daylight analysis tool we only had a single input surface. Moving from one input to more then one input will change the data tree structure and will cause a definition that was working in one context to fail in another.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Trouble-2.1fbba64.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="8" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>The input data tree structure is pretty complicated. Right click on the input analysis point parameter holder and <code data-v-70de2ff4 data-v-70de2ff4>Simplify</code> it. Simplifying has removed extraneous paths, making it easier to understand the structure, but now we are not getting an output from the <code data-v-70de2ff4 data-v-70de2ff4>Path Mapper</code>. This is because it is looking for an <code data-v-70de2ff4 data-v-70de2ff4>{A;B}</code> data tree structure but is receive an <code data-v-70de2ff4 data-v-70de2ff4>{A;B;C}</code> structure, which we have not provided have instructions on how to map.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Trouble-3.c29a0ae.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="9" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>In this instance there are a couple fixes to consider. First, is to add a row to the path mapper to accept the new data tree structure, ie <code data-v-70de2ff4 data-v-70de2ff4>{A;B;C}</code>. Second, is to graft the input (this should be the last one to try). Finally, is to flatten the input. Which should we try in this instance? Flattening is the easiest, but isn't a solution if you need to maintain the tree structure. Luckily in this instance we don't care about maintaining the data tree structure, so lets flatten! In this case we don't need to try those other options, however, we may need to at some point. (Foreshadowing!)</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Trouble-4.d79a150.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="10" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Exit the cluster and do a visual check of the output. Does it look correct? Are areas you would expect to get more sun getting more sun? Yes? Fantastic!</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight_Trouble-5.6d2b82a.PNG" alt="description" data-v-34c0681c></div><p></p>
<h3 id="3-daylight-to-buildings" data-v-70de2ff4 data-v-70de2ff4><a href="#3-daylight-to-buildings" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>3. Daylight to Buildings</h3>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>One analysis tool down, two to go!</em></p>
<p data-v-70de2ff4 data-v-70de2ff4>Now we are going to apply the direct daylight tool to the buildings. This was the assignment for the Building Custom Analysis Tools module, however, in case you didn't get through it, we will go through the process now.</p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Copy over the Building Subdivision Cluster you developed previously and input your buildings.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Adjust the subdivision size to be a large value. In this example we are going to use 24 ft, but that still generates nearly 5,000 analysis surfaces so you may consider using a larger value as you work through this module to keep computation time down.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Subdivision.1715c08.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Before we proceed, what is the goal of analyzing daylight to buildings? Do we want to maximize it? Do we want to minimize it? It depends on the climate and our desired outcome. Do we want to increase interior daylight? Or decrease energy consumption? Or both? Because increased daylight will be directly correlated with open views (which we will be adding in the next section,) lets adapt this tool with the goal of decreasing energy consumption. This is dependent on the climate. In New York City direct sun is beneficial in the cold months (reduces heating load) and harmful in the hot months (increases cooling load.) Again, since we already have an analysis tool that is directly correlated with increased direct sun, lets a adapt this to focus on reducing direct sun during hot months.</p>
<div class="nuxt-content-highlight" data-v-70de2ff4 data-v-70de2ff4><pre class="language-text line-numbers" data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Tip
In practice, shading devices are very effective for reducing unwanted direct sun during hot months which lessens
the importance of it for developing simple massings. If you were to continue to develop this computational design
model, your could consider using this tool to procedurally generate shading devices based on daylight hours and
orientation. For this exercise minimizing direct sun during hot months is useful because it is indirectly correlated
with open views, which we will use to illustrate and discuss trade-offs when we generate a design space in the next module.

</code></pre></div>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Copy the cluster and  unique inputs of the Daylight Analysis tool. Don't copy inputs that they both will share: EPW file and obstructing geometry. Everything would still work if you did copy those, however, it is best practices (and saves on computation time) to reduce redundancy.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Before inputting the subdivided buildings and obstructing geometry, lets adjust the inputs for goal. We want to analyze direct sun for months were it will increase cooling loads (6 - 9.) To keep the analysis running quickly while we get this set up, lets go with just one month for now -- June (6). No need to change the rest of the inputs right now.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Inputs1.50deedc.png" alt="description" data-v-34c0681c></div><p></p>
<ol start="3" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Save</code> and <code data-v-70de2ff4 data-v-70de2ff4>Lock the solver</code>!</li>
<li data-v-70de2ff4 data-v-70de2ff4>Our tool needs analysis surfaces and points so copy the <code data-v-70de2ff4 data-v-70de2ff4>Evaluate Surface</code> generating the points for the streets and input the subdivided building surfaces.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Input <code data-v-70de2ff4 data-v-70de2ff4>Subdivided Building Surfaces</code>,  <code data-v-70de2ff4 data-v-70de2ff4>Subdivided Building Points</code>, and <code data-v-70de2ff4 data-v-70de2ff4>Obstructions</code> into the copied daylight cluster.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Inputs3.de09cd9.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Do a visual check of the output. Does it look correct? In our case every surface is gray, indicating it is receiving less direct sun then our minimum threshold, however, because we have no context we know that portions of our buildings should have full sun exposure. Jump back into the cluster. This next series of steps will be similar to what we went through in the previous section.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble1.9f82057.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="6" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Right away you should see that the output for the path mapper is empty. This is because we are inputting a tree with a structure that doesn't match what the path mapper is expecting. Our tree structure changed because we are now only analyzing for one month. Since we have one month the structure is <code data-v-70de2ff4 data-v-70de2ff4>{A}</code> instead of <code data-v-70de2ff4 data-v-70de2ff4>{A;B}</code>. You could exit now and just change the input for two months and it would solve this issue, however, adding a fix now makes this tool more robust for future use.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble2.a3eb0d9.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="7" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Double click on the <code data-v-70de2ff4 data-v-70de2ff4>Path Mapper</code> and add a second mapping: <code data-v-70de2ff4 data-v-70de2ff4>{A}</code> to <code data-v-70de2ff4 data-v-70de2ff4>{A}</code>. <em data-v-70de2ff4 data-v-70de2ff4>Wait what? We didn't change anything?</em> Yup! This is the structure we want, which is organized by analysis points. When you have more then one month you have a tree structure organized by Month and analysis point so you need to map it to be just by points, which we don't need to do here. (All of this data tree stuff may still seem confusing and opaque, but keep at it and will click at some point.)</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble3.fe17ac7.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble4.e963068.gif" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Exist the cluster and do a visual check of the output. Working correctly? We are now getting color variation, but it is still not correct. Back to the cluster!</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble5.b07d9c6.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="8" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Lets compare the <code data-v-70de2ff4 data-v-70de2ff4>Srf: Analysis Surfaces</code> and <code data-v-70de2ff4 data-v-70de2ff4>Col: View Analysis Color</code> outputs using <code data-v-70de2ff4 data-v-70de2ff4>Param View</code>. They have the same number of branches, each with one item, which is what we want so what is wrong? Take a closer look at the two sets of paths. While the analysis surfaces do have the correct number of branches they are structured differently then the analysis colors, which is causing the mismatch.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble6.36aa53a.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="9" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>This one is a pretty straight forward fix, and similar to the previous section. <code data-v-70de2ff4 data-v-70de2ff4>Flatten</code> the analysis surfaces coming into the definition and <code data-v-70de2ff4 data-v-70de2ff4>Graft</code> them on they way out. Flattening removes any structure and the graft creates the structure that matches the analysis colors. In doing this you may have noticed that we are not actually doing anything with the surfaces in the cluster so may be asking why we have them in here. The answer is that they don't need to be in the cluster at all! However, functionally, it doesn't matter so we will leave them here for now.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble7.aab1ee7.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="10" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Visual check! Looks correct, awesome! All done? Not quite. Currently the metric output treats more sun as good but in this instance we want to reduce direct sun. To finish this tool we need to adjust the metrics and calibrate the inputs.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>If you got to this point and your visual output is still incorrect, <a href="#move" data-v-70de2ff4 data-v-70de2ff4>jump to step 21</a> of the view analysis tool section. It covers a fix that happens with some geometry and is likely the solution if you are still having issues.</em></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Trouble8.c7e9bd0.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="11" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Before we make further changes we need  to <code data-v-70de2ff4 data-v-70de2ff4>Disentangle</code> the two clusters. If you remember from the intro sequence, copies of Clusters act as instances, meaning that when you edit a Cluster and save changes, the changes are updated in every instance of that Cluster. We are  changing how the metrics are derived so we need to separate or "Disentangle" the two clusters. If you mouse over the center of the cluster it will tell you how many times it occurs, in our case twice. Right click the cluster and select <code data-v-70de2ff4 data-v-70de2ff4>Disentangle</code>.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Dis.bed7af7.gif" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Before jumping into the cluster to revise the metric calculation, lets revisit our inputs. (We'll come back to calibrate these a couple of times.)</p>
<ol start="12" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>First, since we are going to be analyzing summer months (which have more daylight hours) we want to increase the time duration to start at 6 and end at 20. Next, since we want to minimize direct sun hours we want a maximum threshold instead of a minimum.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Change the minimum average daylight hours to <code data-v-70de2ff4 data-v-70de2ff4>maximum average daylight hours</code> to 8. We are going to use this value as a threshold for which we want to maximize the amount of building receiving less then 8 hours of direct daylight.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Inputs2.53ba547.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Once you adjust the inputs you may notice that the analysis is no longer working correctly. Lets jump into the cluster to figure out why and start to revise the metric outputs. You'll notice that the <code data-v-70de2ff4 data-v-70de2ff4>Gradient</code> component is not producing any values. This is because we were using our minimum average daylight hours (now a maximum) to set the lower limit of the color gradient <code data-v-70de2ff4 data-v-70de2ff4>(LO)</code>, which is equal to the upper limit <code data-v-70de2ff4 data-v-70de2ff4>(LO)</code> we set of 8. That means that the gradient has a domain of 0 to 0.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Gradient1.4bad396.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="14" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>To fix this first set the lower limit of the color gradient <code data-v-70de2ff4 data-v-70de2ff4>(LO)</code> to 1. Visually, this tool will still display areas with less then this value as a different color.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Plug the minimum average daylight hours (now a maximum) in the upper limit <code data-v-70de2ff4 data-v-70de2ff4>(LO)</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Double click on the right most black circle to pull up the gradient editor. Change the color left so that there will be a visual break with the color right. In this example we are leaving the color right as red and changing the color left to orange. Now anywhere over our threshold will be red.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Gradient.a4de6fb.gif" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Gradient2.f6cc1ac.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="17" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Next we need to flip how the % threshold metric is calculated. Replace the <code data-v-70de2ff4 data-v-70de2ff4>Larger Then</code> with a <code data-v-70de2ff4 data-v-70de2ff4>Smaller Then</code> component. Now the <code data-v-70de2ff4 data-v-70de2ff4>true</code> boolean values will be for analysis points with less then our maximum sun threshold, creating a new metric, "% of building façade below maximum direct sun threshold."</li>
<li data-v-70de2ff4 data-v-70de2ff4>Rename associated parameter holders and panels.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Metric_Before.410644f.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>Before metric calculation adjustment</em></p>
</blockquote>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Metric_After.dc00de5.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>After metric calculation adjustment</em></p>
</blockquote>
<p data-v-70de2ff4 data-v-70de2ff4>Finally, we are going to calibrate our analysis period and maximum direct sun hour threshold to achieve better visual output. Analysis tools have two outputs: a metric and a visual map of performance. The metric allows you to compare performance between multiple design. The visualization allows you to understand how a specific design is performing. You can quickly assess what portions of the design are performing well or poorly and evaluate what spatial attributes of the design are resulting in the performance. For example is it towers that are close together blocking views? Or the angle of the street allowing for more direct sun? Or put another way, the visual output is how we can use the analysis to inform design changes to improve performance.</p>
<p data-v-70de2ff4 data-v-70de2ff4>For the visualization to be effective there needs to be meaningful variation -- a visual difference between poor performance and good performance. However, it is important to not artificially introduce visual difference if there is not a meaningful difference in performance. How to tell if you have a meaningful difference in performance? Use the <code data-v-70de2ff4 data-v-70de2ff4>Bounds</code> component to get the domain of all the analysis points (make sure to flatten the input!) For the example below we are getting a domain of 0 hours to 9.6 hours, which is significant.</p>
<ol start="19" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>For a couple of different design options test different combinations of hot months (6 - 9) and maximum hour thresholds (likely, between 7 and 9) to determine which provide the best visual feedback. In the comparison below, the inputs were selected because they were providing better variation relative to the towers.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Calibration.f7417b9.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>Before input calibration</em></p>
</blockquote>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_Daylight2_Calibration2.9adc172.PNG" alt="description" data-v-34c0681c></div><p></p>
<blockquote data-v-70de2ff4 data-v-70de2ff4>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>After input calibration</em></p>
</blockquote>
<h3 id="4-views-from-buildings" data-v-70de2ff4 data-v-70de2ff4><a href="#4-views-from-buildings" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>4. Views From Buildings</h3>
<p data-v-70de2ff4 data-v-70de2ff4>Finally(!!) we are going to apply the view analysis tool developed in the Intro to Grasshopper sequence.</p>
<ol data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Copy the definition below the daylight to streets analysis tool and line up the inputs vertically.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Location.8071597.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>The assignment for the Deriving Spatial Data module was to modify the view analysis tool to account for a human field of view, however, in case you didn't get through it, we will go through the process now. We are going to rotate the line normal to each analysis surface to create lines that cover a human field of view (120 degrees.)</p>
<ol start="2" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Graft</code> the (S) input of Evaluate Surface.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Plug the output of the Line component into <code data-v-70de2ff4 data-v-70de2ff4>(G)</code> of <code data-v-70de2ff4 data-v-70de2ff4>Rotate an object in a plane</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Plug the <code data-v-70de2ff4 data-v-70de2ff4>(P) Points</code> from the evaluate surface into <code data-v-70de2ff4 data-v-70de2ff4>(P) Plane</code> of the rotate component. Why points when the component wants planes? If you plug points into a input that is expecting planes grasshopper will use a global X,Y,Z plane centered at that point. Using the global plane will rotate the points horizontally, which we want.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Use a <code data-v-70de2ff4 data-v-70de2ff4>Series</code> component to generate rotation degrees between <code data-v-70de2ff4 data-v-70de2ff4>-60 and 60</code> degrees. In this example the starting value is -60, the step size is 15, and the number of values in the series is 9. This will generate values every 15 degrees starting at -60.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Plug the output of the series into <code data-v-70de2ff4 data-v-70de2ff4>(A) Angle</code> of the rotate component. By default, any angle input will expect radians, so right click on (A) and select the option for degrees.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Vectors.454959f.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Next we are going to cluster view analysis:</p>
<ol start="7" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Delete <code data-v-70de2ff4 data-v-70de2ff4>Mesh Join</code> and connect the mesh input directly into <code data-v-70de2ff4 data-v-70de2ff4>IsoVistRay</code>. The obstructing meshes are already being joined so we are deleting this to eliminate redundancy.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Make a copy of the <code data-v-70de2ff4 data-v-70de2ff4>Srf: Analysis Surfaces</code> parameter holder to the right inline with the other inputs.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Select all of the components for view analysis, except the initial inputs and final outputs, right click, and <code data-v-70de2ff4 data-v-70de2ff4>Cluster</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Delete the analysis surfaces and obstructions parameter holders (we only needed them for clustering,) and move inputs and outputs to be in line with the rest of the analysis inputs and outputs.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Cluster.21d5f46.gif" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>We are now going to apply the view analysis to our geometry so, you guessed it:</p>
<ol start="11" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Save</code> and <code data-v-70de2ff4 data-v-70de2ff4>Lock the solver</code>!</li>
<li data-v-70de2ff4 data-v-70de2ff4>Input the <code data-v-70de2ff4 data-v-70de2ff4>Srf: Analysis Surfaces</code> for your buildings.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Input the <code data-v-70de2ff4 data-v-70de2ff4>Joined Mesh Obstructions</code> into <code data-v-70de2ff4 data-v-70de2ff4>Geo: Obstructions</code>.</li>
<li data-v-70de2ff4 data-v-70de2ff4><code data-v-70de2ff4 data-v-70de2ff4>Unlock the solver</code></li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Inputs.ff5e3c6.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Visual check! <em data-v-70de2ff4 data-v-70de2ff4>At least one has to run correctly right from the start, right??</em> Not this time. As we troubleshoot we will identify two issues, one generated by the revision we made to rotate the view rays, and the same data tree issues from the prior section causing the analysis to not display correctly.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble1.c1de565.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="15" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Start by using <code data-v-70de2ff4 data-v-70de2ff4>param viewer</code> to compare the data tree structures for the analysis surfaces and analysis colors. Like with the previous tools, these should match,  be grafted (one item per branch,) and have a number of branches equal to the number of analysis surfaces. In this example they don't match, are not grafted, and don't have the same number of items.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble2.9bddab1.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="16" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Enter the view analysis cluster.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Start by comparing the <code data-v-70de2ff4 data-v-70de2ff4>List Length</code> of the analysis surfaces with the analysis colors. Make sure to <code data-v-70de2ff4 data-v-70de2ff4>Flatten</code> the inputs. These should match, but don't.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble3.e3d0658.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="18" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Continue to use list length to identify where the mismatch first occurred. Originally we had one distance value coming out of <code data-v-70de2ff4 data-v-70de2ff4>IsoVitRay</code> but since we rotated the view rays to account for a human field of view we now have many distance values.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble4.d01fbe2.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="19" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>We want a single distance value -- one for each analysis point so use <code data-v-70de2ff4 data-v-70de2ff4>Average</code> to generate a single value: the average distance to obstructions within a human field of view.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble5.082b39f.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="20" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Similar to the other two analysis tools we need to <code data-v-70de2ff4 data-v-70de2ff4>Flatten</code> the analysis surface input to remove the data tree structure, make and copy, <code data-v-70de2ff4 data-v-70de2ff4>Graft</code> the copy and use it as the new output. The flow should now be: Cluster Input -> Flattened Parameter Holder -> Grafted Parameter Holder -> Clustered Output.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble6.2195571.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Visual Check! Still not correct? (Yours might actually be correct as this issue doesn't consistently occur.) Take a look at the image below. Can you tell what is wrong? Looks mostly correct but there are some faces of buildings that should have wide open views that are being visualized as completely obstructed.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble7.042bdb0.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4><a name="move" data-v-70de2ff4 data-v-70de2ff4></a></p>
<ol start="21" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>This is occurring because the meshing of the buildings (which is being used as the obstructing geometry) varies slightly from the original Brep so that the analysis point is actually just inside of the building. To fix this jump inside the cluster and use a <code data-v-70de2ff4 data-v-70de2ff4>Move</code> and <code data-v-70de2ff4 data-v-70de2ff4>Amplitude</code> component to move the analysis point just lightly off of the building using the normal vector. If this issue didn't occur in the Daylight to Buildings analysis tool, consider adding it to make it more robust</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Trouble8.67c41d0.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Visual Check! The results should now look correct, but if you were using the view analysis inputs from the Intro to Grasshopper module, you might be seeing that almost every building has unobstructed views. In that tutorial we were modeling that was context very close to the tower and using short values the view distance.</p>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Viz1.aa76a78.PNG" alt="description" data-v-34c0681c></div><p></p>
<ol start="22" data-v-70de2ff4 data-v-70de2ff4>
<li data-v-70de2ff4 data-v-70de2ff4>Adjust the <code data-v-70de2ff4 data-v-70de2ff4>Max View Distance</code> (the distance at which we no longer consider an obstruction to determinantal to a view) to a value that make sense relative to the size of your site. In this example we are using a maximum view distance of 600ft.</li>
<li data-v-70de2ff4 data-v-70de2ff4>Adjust the <code data-v-70de2ff4 data-v-70de2ff4>View Distance Threshold</code> (the minimum distance for a view to be considered a good view.) Both of these are qualitative. In this example we are using 80ft, which is just slightly larger then the width of a narrow street in New York City.</li>
</ol>
<p data-v-70de2ff4 data-v-70de2ff4></p><div class="img" data-v-34c0681c data-v-70de2ff4><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/5-6-2_View_Viz2.a8ab149.PNG" alt="description" data-v-34c0681c></div><p></p>
<p data-v-70de2ff4 data-v-70de2ff4>Finally, if you have gotten to this point and are still having issues, refer to this <a href="https://github.com/GSAPP-CDP/Smorgasbord/raw/main/src/content/modules/5-computational-design-modeling-in-grasshopper/definitions/5-6_Troubleshooting.gh" rel="nofollow noopener noreferrer" target="_blank" data-v-70de2ff4 data-v-70de2ff4>completed definition</a> to help trouble shoot.</p>
<h2 id="conclusion" data-v-70de2ff4 data-v-70de2ff4><a href="#conclusion" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Conclusion</h2>
<p data-v-70de2ff4 data-v-70de2ff4>Phew! This was a long one, but one of the most important modules. Getting all the pieces of a computational design model to work together correctly can be challenging. In this module we have covered a range of approaches and techniques for troubleshooting that will start to become second nature for your as you continue to develop your ability with grasshopper. The issues we dealt with cover almost every type of problem that may occur. (Although one we didn't cover is when something is just incorrectly connected.)</p>
<p data-v-70de2ff4 data-v-70de2ff4>Beyond the techniques introduced, remember proper troubleshooting requires you to be critical of the output. If you are getting a metric and visual output, don't just assume everything is working correctly. Examine the visual output, if it looks wrong it probably is. Are the metric outputs in a range that you would expect? If not, something is probably wrong.</p>
<h2 id="assignment" data-v-70de2ff4 data-v-70de2ff4><a href="#assignment" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Assignment</h2>
<p data-v-70de2ff4 data-v-70de2ff4>We've develop this all without a context so to wrap up this module, lets add one! You can manually model a context in Rhino or use a portion of an actual city. The Department of City Planning for the City of New York provides <a href="https://www1.nyc.gov/site/planning/data-maps/open-data/dwn-nyc-3d-model-download.page" rel="nofollow noopener noreferrer" target="_blank" data-v-70de2ff4 data-v-70de2ff4>3D models for the entire city.</a> With either approach consider the context you are designing for. Are you introducing density to a low density neighborhood? Or a high density one? Are you designing along a park or a lake? They context will significantly influence the outcome of your model.</p>
<p data-v-70de2ff4 data-v-70de2ff4>Note: you'll need to enable the <code data-v-70de2ff4 data-v-70de2ff4>Geo: Context Input</code> that we previously disabled to add the context.</p>
<h2 id="additional-resources" data-v-70de2ff4 data-v-70de2ff4><a href="#additional-resources" aria-hidden="true" tabindex="-1" data-v-70de2ff4 data-v-70de2ff4><span class="icon icon-link" data-v-70de2ff4 data-v-70de2ff4></span></a>Additional Resources</h2>
<p data-v-70de2ff4 data-v-70de2ff4><em data-v-70de2ff4 data-v-70de2ff4>To Do: resources on building types and built density</em></p></div></div> <div class="postfooter" data-v-70de2ff4></div></div></div><div class="copyright" data-v-2354a23f data-v-cf310924><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-2354a23f><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" style="border-width:0" data-v-2354a23f></a><br data-v-2354a23f>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-2354a23f>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
</div></div> <div id="graph-column" data-v-cf310924><div data-fetch-key="data-v-9c60a860:0" class="graph" data-v-9c60a860 data-v-cf310924>
  [] 
</div></div></div></div></div><script defer src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652190911/modules/5-computational-design-modeling-in-grasshopper/5-6_Troubleshooting/state.js"></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/9da1546.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/13a9edc.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/6f2bdec.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1033e76.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/bc128ae.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/014361a.js" defer></script>
  </body>
</html>
