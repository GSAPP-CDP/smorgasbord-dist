<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>GSAPP SMORGASBORD</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content=""><meta data-n-head="ssr" name="format-detection" content="telephone=no"><base href="/smorgasbord/"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link data-n-head="ssr" data-hid="gf-prefetch" rel="dns-prefetch" href="https://fonts.gstatic.com/"><link data-n-head="ssr" data-hid="gf-preconnect" rel="preconnect" href="https://fonts.gstatic.com/" crossorigin=""><link data-n-head="ssr" data-hid="gf-preload" rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700"><script data-n-head="ssr" data-hid="gf-script">!function(){var e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700",document.querySelector("head").appendChild(e)}()</script><noscript data-n-head="ssr" data-hid="gf-noscript"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&family=IBM Plex Sans:wght@300;400;700"></noscript><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1cd9192.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1033e76.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/d87c597.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/b6f68fa.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/9e6e7d4.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/5c176c2.js" as="script"><style data-vue-ssr-id="1dfbd988:0 517a8dd7:0 fa7ff0ca:0 145a5c8f:0 34da3673:0 fd42f946:0 f243d9c8:0 411a0fe8:0 7bdc4d5f:0 77b1ef0b:0 3b3e78a8:0">body{margin:0;padding:0}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}#layout-module[data-v-529cb57d]{display:flex;width:100%;height:100vh;background-color:#f2ede7;font-family:"IBM Plex Sans",Helvetica,sans-serif}a[data-v-529cb57d],a[data-v-529cb57d]:visited{color:#555}#nav-column[data-v-529cb57d]{overflow-y:auto;flex-basis:350px;flex-grow:0;flex-shrink:0;padding:20px 30px}#logo[data-v-529cb57d]{height:100px}#content-column[data-v-529cb57d]{overflow-y:auto;width:100%}#graph-column[data-v-529cb57d]{display:none}a[data-v-61c030eb]{text-decoration:none}.smorgasbord[data-v-61c030eb]{font-weight:700;font-size:1.5em}.links[data-v-31cab561]{border-bottom:2px dotted grey;margin-bottom:20px;padding:0 5px 20px}.nav[data-v-31cab561]{color:#4a4a4a;font-weight:700}a[data-v-31cab561]{display:inline-block}.title[data-v-31cab561]{font-size:2em;font-weight:700}.course[data-v-88b1a66c]{border-left:2px solid grey;padding-left:8px}.coursetitle[data-v-88b1a66c]{font-size:1.5em;margin-bottom:10px}.moduleindex[data-v-88b1a66c]{color:555;font-family:Lato;color:#000;font-size:.85em}.sequence[data-v-88b1a66c]{line-height:1.5em;margin-bottom:20px}.active>[data-v-c650d19c],.active[data-v-c650d19c],.nuxt-link-active[data-v-c650d19c]{color:#4cbf8f!important;font-weight:700}.moduleindex[data-v-c650d19c]{color:555;font-family:Lato;color:#000;line-height:1.5em}.sequence[data-v-c650d19c]{font-weight:400}.hover.sequence[data-v-c650d19c]{color:#0096ea!important}a[data-v-c650d19c]{text-decoration:none}a[data-v-c650d19c]:hover{color:#0096ea!important;font-weight:700}ul[data-v-c650d19c]{padding:0 0 0 10px;list-style-type:none}li[data-v-c650d19c]{color:grey}.bullet[data-v-c650d19c]:before{content:"•"}.sequencetitle[data-v-c650d19c]{font-weight:700;font-size:1.15em}.indexview.moduleindex[data-v-c650d19c]{font-size:1.25em}.indexview .sequence[data-v-c650d19c]{display:flex;flex-direction:row;border-top:2px solid #555;padding-top:5px;margin-bottom:5px}.indexview .sequence.hover[data-v-c650d19c]{border-top:2px solid #0096ea}.indexview .sequencetitle[data-v-c650d19c]{width:50%;padding-right:20px}.indexview .sequencemodules[data-v-c650d19c]{width:50%;font-style:italics}.indexview .ul[data-v-c650d19c]{padding-left:0}.post[data-v-4d512e2a]{padding:110px 30px 100px;max-width:800px;font-size:1em;font-weight:regular;color:#444;word-wrap:break-word}p[data-v-4d512e2a]{line-height:1.7em}blockquote[data-v-4d512e2a]{font-size:.9em;line-height:1.8em;color:#666}.postheader[data-v-4d512e2a]{padding-bottom:10px;border-bottom:1px solid #4cbf8f;margin-bottom:10px}.posttitle[data-v-4d512e2a]{font-weight:700;font-size:3em;color:#4cbf8f;margin-bottom:15px;word-break:break-word}.instruction[data-v-4d512e2a]{background-color:#ccc;border-radius:10px;padding:20px 10px}.instruction p[data-v-4d512e2a]:last-child{margin-bottom:0}[data-v-4d512e2a] img{width:100%;height:auto}[data-v-4d512e2a] img[src$="#img-left"]{max-width:50%;max-height:400px;padding:10px 15px 10px 0;float:left;clear:both}[data-v-4d512e2a] img[src$="#img-right"]{float:right;max-width:50%;max-height:400px;padding:10px 0 10px 15px;clear:both}[data-v-4d512e2a] h1,[data-v-4d512e2a] h2,[data-v-4d512e2a] h3,[data-v-4d512e2a] h4{clear:both}[data-v-4d512e2a] h3,[data-v-4d512e2a] h4{padding-top:2em}div.img+em[data-v-4d512e2a],img+em[data-v-4d512e2a]{color:#888;margin-bottom:10px;display:inline-block}.val[data-v-4d512e2a]{font-weight:700}[data-v-4d512e2a] code{background-color:#f4f4f4;padding:3px 6px;border-radius:5px}[data-v-4d512e2a] blockquote{border-left:2px solid #666;padding-left:20px;margin-left:10px;color:#666}.copyright[data-v-2354a23f]{color:#4a4a4a;font-size:.85em;padding:30px}a[data-v-2354a23f]:hover{color:#fd1789;border-bottom:1px dotted grey}.graph[data-v-9c60a860]{overflow:auto;height:100%}</style><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652167150/modules/10-spatial-python/104-spatial-analysis-correlation/state.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652167150/modules/10-spatial-python/104-spatial-analysis-correlation/payload.js" as="script"><link rel="preload" href="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652167150/manifest.js" as="script">
  </head>
  <body>
    <div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div id="layout-module" data-v-529cb57d><div id="nav-column" data-v-529cb57d><div id="logo" data-v-529cb57d><div class="logo" style="width:220px" data-v-61c030eb data-v-529cb57d><a href="/smorgasbord/" class="nuxt-link-active" data-v-61c030eb><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/logo_full.f44c15c.svg" data-v-61c030eb></a></div></div> <div id="nav" data-v-529cb57d><div class="nav" data-v-31cab561 data-v-529cb57d><div class="links" data-v-31cab561><div class="navlink" data-v-31cab561><a href="/smorgasbord/welcome" data-v-31cab561>Welcome</a></div> <div class="navlink" data-v-31cab561><a href="/smorgasbord/how-to-use-this-site" data-v-31cab561>How To Use This Site</a></div></div> <div class="moduleindex" data-v-88b1a66c data-v-31cab561><div class="coursetitle" data-v-88b1a66c>Mapping and Data</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/index" data-v-c650d19c>Introduction to Geographic Information Systems Concepts</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/141-what-is-gis" data-v-c650d19c> What is GIS?</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/142-spatial-data" data-v-c650d19c> Spatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/14-geospatial-concepts/143-coordinates-projections" data-v-c650d19c> Coordinate Reference Systems & Projections</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/index" data-v-c650d19c>Introduction to GIS with QGIS</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/151-mapping-where" data-v-c650d19c> Mapping Where</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/152-print-layout" data-v-c650d19c> Print Layout</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/153-archives" data-v-c650d19c> Making data from Archives</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/154-observations" data-v-c650d19c> Making Data from Field Observations</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/155-satellites" data-v-c650d19c> Making Data from Satellites</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/156-aerial-imagery" data-v-c650d19c> Making Data from</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/15-intro-qgis/157-atlas" data-v-c650d19c> A Subjective Atlas</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Computational Drawing</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/index" data-v-c650d19c>Introduction to Rhino</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-1_rhino-interface" data-v-c650d19c> The Rhino Interface</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-2_rhino-2d" data-v-c650d19c> Rhino 2D</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-3_rhino-3d" data-v-c650d19c> Rhino 3D</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/12-rhino-intro/12-4_rhino-nurbs" data-v-c650d19c> Modeling with NURBS</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/index" data-v-c650d19c>Introduction to Architectural Drawing</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-1_orthographic-drawing" data-v-c650d19c> Orthographic Drawing: Plans & Sections</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-2_projection" data-v-c650d19c> Projection</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-3_rendering" data-v-c650d19c> Lighting, Materials & Rendering</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/13-arch-drawing/13-4_compositing" data-v-c650d19c> Compositing</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: A - Grasshopper</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/index" data-v-c650d19c>Intro To Grasshopper</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/41-getting-started-with-grasshopper" data-v-c650d19c> Getting started with Grasshopper</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/42-exercise-hello-grasshopper" data-v-c650d19c> Exercise - Hello Grasshopper!</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/43-working-in-grasshopper" data-v-c650d19c> Working in Grasshopper</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/44-exercise-parametric-tower-part-1" data-v-c650d19c> Exercise - Parametric tower (part 1)</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/45-working-with-data" data-v-c650d19c> Working with data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/46-exercise-parametric-tower-part-2" data-v-c650d19c> Exercise - Parametric tower (part 2)</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/47-documentation-best-practices" data-v-c650d19c> Grasshopper Documentation Best Practices</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/48-Deriving-Spatial-Data" data-v-c650d19c> Deriving Spatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/49-Procedural-Rules" data-v-c650d19c> Parametric to Procedural</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/4-grasshopper-intro/410-Generating-Exploring-Spatial-Data" data-v-c650d19c> Generating and Exploring Spatial Data</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/index" data-v-c650d19c>Computational Design Modeling In Grasshopper</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-1-Comp-Design-Modeling" data-v-c650d19c> What is a Computational Design Model?</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-2-Subdivide-Geometry" data-v-c650d19c> Subdividing Geometry for Analysis</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-3-Analysis-Tools" data-v-c650d19c> Building Custom Analysis Tools</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-4-Street-Grid" data-v-c650d19c> Parametric Streets, Blocks, and Parcels</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-5_Buildings-Density" data-v-c650d19c> Procedural Density and Building Types</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-6_Troubleshooting" data-v-c650d19c> Putting Everything Together</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/5-computational-design-modeling-in-grasshopper/5-7_Design-Space" data-v-c650d19c> Creating a Design Space and Exploring results</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: B - Python</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/index" data-v-c650d19c>Intro to Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/61-getting-started-with-Python" data-v-c650d19c> Getting started with Python</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/6-intro-to-python/62-using-python-in-grasshopper" data-v-c650d19c> Using Python in Grasshopper</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/index" data-v-c650d19c>Fundamentals of Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/71-variables-lists-and-dictionaries" data-v-c650d19c> Variables, Lists, and Dictionaries</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/72-conditionals-and-loops" data-v-c650d19c> Conditionals and Loops</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/73-functions-and-classes" data-v-c650d19c> Functions and Classes</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/7-fundamentals-of-python/74-python-libraries" data-v-c650d19c> Python Libraries</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/index" data-v-c650d19c>Intro to Python Scripting in Rhino</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/81-accessing-the-rhino-apis-in-python" data-v-c650d19c> Accessing with the Rhino Libraries in Python</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/8-intro-to-python-in-rhino/82-working-with-geometry-in-python" data-v-c650d19c> Working with geometry in Python</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/index" data-v-c650d19c>Working with Spatial Data in Python</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/101-data-manipulation" data-v-c650d19c> Data Manipulation</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/102-geospatial-data" data-v-c650d19c> Geospatial Data</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/103-spatial-analysis-point-pattern" data-v-c650d19c> Spatial Analysis – Point Patterns</a></li><li class="active" data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/104-spatial-analysis-correlation" aria-current="page" class="nuxt-link-exact-active nuxt-link-active" data-v-c650d19c> Spatial Analysis – Correlation</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/10-spatial-python/105-spatial-analysis-clustering" data-v-c650d19c> Spatial Analysis – Clustering</a></li></ol></div></div> <div class="coursetitle" data-v-88b1a66c>Programming for Design Practices: C - Web and Interactivity</div> <div class="course" data-v-88b1a66c><div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/index" data-v-c650d19c>Interactive Web</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/110-javascript-in-browser" data-v-c650d19c> Javascript in the Browser I - Weather UI Design</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/111-data-and-apis" data-v-c650d19c> Data and APIs</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/112-javascript-in-the-browser" data-v-c650d19c> JavaScript in the Browser II - Events and UIs</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/11-interactive-web/113-javascript-in-the-browser" data-v-c650d19c> JavaScript in the Browser III - Events and UIs</a></li></ol></div> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/index" data-v-c650d19c>Ambient Computing - Network Architecture</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/161-dynamic-environments" data-v-c650d19c> Ambient Environments</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/162-network-architecture" data-v-c650d19c> Network Architecture</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/163-low-and-high-programming" data-v-c650d19c> Low and High Programming</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/164-Intro-to-Processing-Lighting" data-v-c650d19c> Intro to Processing</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/165-Webhooks-Connecting-IFTTT-and-Processing" data-v-c650d19c> Webhooks - Connecting IFTTT and Processing</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/166-sounds-speech-and-macros" data-v-c650d19c> Sounds, Speech, and Macros</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/167-Markers-and-Tracking" data-v-c650d19c> Markers and Tracking</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/16-ambient-computing-network-architecture/168-Computer-Vision" data-v-c650d19c> Computer Vision</a></li></ol></div> <!----> <div class="sequence" data-v-c650d19c data-v-88b1a66c><div class="sequencetitle" data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/index" data-v-c650d19c>Behavioral Modeling - Intro</a></div> <ol class="sequencemodules" data-v-c650d19c><!----><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/181-Unity-and-Agent-Based-Models" data-v-c650d19c> Agent Based Modeling</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/182-Intro-To-Unity" data-v-c650d19c> Intro to Unity</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/183-Agent-Based-Populations-and-Behavior-Bricks" data-v-c650d19c> Agent Based Modeling and Behavior Bricks</a></li><li data-v-c650d19c><a href="/smorgasbord/modules/18-behavioral-modeling-intro/184-Mapbox-SDK-and-Routing" data-v-c650d19c> Mapbox SDK</a></li></ol></div></div></div> <div class="navlink" data-v-31cab561><a href="/smorgasbord/credits" data-v-31cab561>Credits</a></div></div></div></div> <div id="content-column" data-v-529cb57d><div data-v-529cb57d><div data-fetch-key="data-v-4d512e2a:0" class="post" data-v-4d512e2a><div class="postheader" data-v-4d512e2a><div class="posttitle" data-v-4d512e2a><span class="val" data-v-4d512e2a>Spatial Analysis – Correlation</span></div> <div class="postauthor" data-v-4d512e2a>by <span class="val" data-v-4d512e2a>Carlo Bailey</span></div> <!----></div> <div class="postbody" data-v-4d512e2a><div class="nuxt-content" data-v-4d512e2a data-v-4d512e2a><h1 id="spatial-analysis--correlation" data-v-4d512e2a data-v-4d512e2a><a href="#spatial-analysis--correlation" aria-hidden="true" tabindex="-1" data-v-4d512e2a data-v-4d512e2a><span class="icon icon-link" data-v-4d512e2a data-v-4d512e2a></span></a>Spatial Analysis – Correlation</h1>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/michael_najjar.2e9cd66.jpg" alt="missing-image" data-v-34c0681c></div>
<em data-v-4d512e2a data-v-4d512e2a>Michael Najjar, high altitude (2008-2010), dow jones_80-09</em><p></p>
<h2 id="module-summary" data-v-4d512e2a data-v-4d512e2a><a href="#module-summary" aria-hidden="true" tabindex="-1" data-v-4d512e2a data-v-4d512e2a><span class="icon icon-link" data-v-4d512e2a data-v-4d512e2a></span></a>Module Summary</h2>
<p data-v-4d512e2a data-v-4d512e2a>In this module we discuss analytic methods commonly used to interrogate spatial data, namely, spatial correlation. Spatial auto-correlation explores the relationship between properties in geographic space – seeing whether an objects placement can tell us something about another phenomena. For example, we might consider income or house prices in NYC and ask: Is there a relationship between the density of trees in a neighborhood and the income of it's residents? Can a properties distance to Manhattan tell us anything about it's price? Correlation helps us answer these questions quantitatively and visualize or describe them statistically.</p>
<hr data-v-4d512e2a data-v-4d512e2a>
<br data-v-4d512e2a data-v-4d512e2a>
<br data-v-4d512e2a data-v-4d512e2a>
<p data-v-4d512e2a data-v-4d512e2a>For this module we will be using the <a href="https://pandas.pydata.org/" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Pandas</a>, <a href="https://geopandas.org/en/stable/" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>GeoPandas</a>, <a href="https://matplotlib.org/" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Matplotlib</a>, <a href="https://seaborn.pydata.org/" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Seaborn</a> and <a href="https://shapely.readthedocs.io/en/stable/manual.html" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Shapely</a> Python libraries. Ensure to <code data-v-4d512e2a data-v-4d512e2a>pip install</code> them on your machine, if you don't already have them, and import like so:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token keyword" data-v-4d512e2a data-v-4d512e2a>import</span> pandas <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>as</span> pd
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>import</span> geopandas <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>as</span> gpd
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>import</span> matplotlib<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>pyplot <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>as</span> plt
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>import</span> seaborn <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>as</span> sns
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>from</span> shapely<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>geometry <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>import</span> Point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> Polygon
</code></pre></div>
<br data-v-4d512e2a data-v-4d512e2a>
<h3 id="correlation" data-v-4d512e2a data-v-4d512e2a><a href="#correlation" aria-hidden="true" tabindex="-1" data-v-4d512e2a data-v-4d512e2a><span class="icon icon-link" data-v-4d512e2a data-v-4d512e2a></span></a>Correlation</h3>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/spatial_correlation.4363e83.png#img-full" alt="missing-image" data-v-34c0681c></div><p></p>
<br data-v-4d512e2a data-v-4d512e2a>
<p data-v-4d512e2a data-v-4d512e2a>According to Waldo Tobler's First Law of Geography: "everything is related to everything else, but near things are more related than distant things." This simple but profound statement assumes that geographic distance can explain the processes behind why things are located where they are. Correlation is a widely used statistic that helps us understand the relationship between two variables. Spatial correlation helps us quantify the relationship between objects in geographic space and their numeric values, based on proximity. A real world example of this is house prices. If you picked a random house in New York City from a listing website like Zillow and found that the price of the house was $1.6M, there is a very high likelihood that the house next door (if similar in size and amenities) would be selling for a similar price, versus a house 100 miles away would be selling for a lot more or less. Distance and proximity can help explain phenomena in geographic space from house prices, to the location of services and businesses, to topography and climate – near things are more closely related than further things. Spatial correlation helps us understand:</p>
<ul data-v-4d512e2a data-v-4d512e2a>
<li data-v-4d512e2a data-v-4d512e2a>If things are clustered or dispersed over a geographic region.</li>
<li data-v-4d512e2a data-v-4d512e2a>Measure spatial inequality be it in terms of income, access to social services, demographics, etc.</li>
<li data-v-4d512e2a data-v-4d512e2a>Describing ecological and environmental conditions.</li>
</ul>
<p data-v-4d512e2a data-v-4d512e2a>In it's simplest sense, correlation is the linear relationship between a pair of variables. If the value of one variable goes up as the other also increases, then the relationship is said to be positively correlated. Whereas, if the value of one variable goes the other variable increases, then the relationship is said to be negatively correlated. The strength of the relationship (correlation) is usually represented through the (Pearson) correlation coefficient <em data-v-4d512e2a data-v-4d512e2a>r</em>. Although an intuitive understanding is more than enough to complete this demonstration and explore correlations independently, it can be written formally as:</p>
<table data-v-4d512e2a data-v-4d512e2a><tbody data-v-4d512e2a data-v-4d512e2a><tr data-v-4d512e2a data-v-4d512e2a><td data-v-4d512e2a data-v-4d512e2a>
 </td><td data-v-4d512e2a data-v-4d512e2a> <div style="float:left" data-v-4d512e2a data-v-4d512e2a>
    <div style="border-bottom:1px solid;font-size:small;text-align:center" data-v-4d512e2a data-v-4d512e2a>cov(X, Y)</div>
    <div style="font-size:small;text-align:center" data-v-4d512e2a data-v-4d512e2a>σ<sub data-v-4d512e2a data-v-4d512e2a>X</sub> σ<sub data-v-4d512e2a data-v-4d512e2a>Y</sub></div>
  </div></td>
</tr>
</tbody></table>
<p data-v-4d512e2a data-v-4d512e2a>Where:</p>
<ul data-v-4d512e2a data-v-4d512e2a>
<li data-v-4d512e2a data-v-4d512e2a>X is the first variable</li>
<li data-v-4d512e2a data-v-4d512e2a>Y is the second variable</li>
<li data-v-4d512e2a data-v-4d512e2a><em data-v-4d512e2a data-v-4d512e2a>cov</em> is the <a href="https://www.mathsisfun.com/data/covariance.html" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>covariance</a></li>
<li data-v-4d512e2a data-v-4d512e2a>σ<sub data-v-4d512e2a data-v-4d512e2a>X</sub> and σ<sub data-v-4d512e2a data-v-4d512e2a>Y</sub> are the standard deviations of the two variables</li>
</ul>
<br data-v-4d512e2a data-v-4d512e2a>
<p data-v-4d512e2a data-v-4d512e2a>For this demonstration we will look at the relationship between Brooklyn houses prices in relation to their distance to Manhattan. We will be studying the clustering of higher price houses around the island of Manhattan, the hypothesis being that the closer a house is to Manhattan the higher the sales price. We will utilize multiple datasets provided by NYC Open Data:</p>
<ul data-v-4d512e2a data-v-4d512e2a>
<li data-v-4d512e2a data-v-4d512e2a><a href="https://data.cityofnewyork.us/City-Government/NYC-Citywide-Annualized-Calendar-Sales-Update/w2pb-icbu" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Annual sales of properties sold in NYC</a></li>
<li data-v-4d512e2a data-v-4d512e2a><a href="https://data.cityofnewyork.us/City-Government/Borough-Boundaries/tqmj-j8zm" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>NYC borough boundaries</a></li>
</ul>
<p data-v-4d512e2a data-v-4d512e2a>Correlation can be visualized and explored in numerous ways, typically it is shown via a scatter plot which show the numeric value of two variables along an X and Y axis. But it can also be shown spatially on a map, which is intuitive but less precise, using the values of one value to color objects while distances between objects are seen relative to locations in geographic space. Let's see how we could first show the relationship between house prices and distance to Manhattan using points on a map.</p>
<p data-v-4d512e2a data-v-4d512e2a>The first step will be to load the sales data as a Pandas DataFrame:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>path <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token string" data-v-4d512e2a data-v-4d512e2a>'/Users/cbailey/Downloads/NYC_Citywide_Annualized_Calendar_Sales_Update.csv'</span>
houses <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> pd<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>read_csv<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>path<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>Next we will create a function to convert the lat long columns in a Shapely Point object, allowing us to convert the DataFrame into a geographic GeoDataFrame:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token keyword" data-v-4d512e2a data-v-4d512e2a>def</span> <span class="token function" data-v-4d512e2a data-v-4d512e2a>lat_lng_to_point</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span>
    <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>return</span> Point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Longitude'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Latitude'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>

houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'geom'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>apply</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>lat_lng_to_point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> axis<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>1</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
gdf <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> gpd<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>GeoDataFrame<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> geometry<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'geom'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> crs<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'EPSG:4326'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>Next we will load the NYC borough boundaries GeoJSON file as a GeoDataFrame:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>path <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token string" data-v-4d512e2a data-v-4d512e2a>'/Users/cbailey/Downloads/Borough Boundaries.geojson'</span>
nyc_geo <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> gpd<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>read_file<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>path<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>We will use the the boundary of Brooklyn to filter the sales data, using the GeoPandas <code data-v-4d512e2a data-v-4d512e2a>.sjoin()</code> function:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>bk <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Brooklyn'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>
bk_houses <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> gpd<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>sjoin<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>gdf<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> bk<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>With every data analytics project, spatial or otherwise, there is always a process of data cleaning required to ensure your data is of relevance. The sales data includes sales of every property type the City of New York tracks, so the first step in cleaning will be to only observe sales of single family dwellings. And If we look at the distribution of sales prices, we can see that there are outliers in the dataset:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token comment" data-v-4d512e2a data-v-4d512e2a># filter the data to only have single family homes</span>
mask <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'BUILDING CLASS CATEGORY'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'01 ONE FAMILY DWELLINGS'</span>
bk_houses <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>mask<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>

bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>hist<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bins<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>20</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>;</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/sales_price_dist.8c89c8d.png#img-right" alt="missing-image" data-v-34c0681c></div>
We can see from the histogram that the sales data is highly left skewed with lots of homes being sold for a very low price (even zero), with just a handful of homes sold for $10M+. Now it is possible to sell a house for zero dollars, but it is likely that the transaction was a gift to a family member, a way to avoid the IRS, or some other reason that is irrelevant to our analysis. Therefore, we restrict the analysis to only consider houses sold between $1-$3 million.<p></p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>mask1 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>></span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>3e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
bk_houses <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>mask<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>
</code></pre></div>
<br data-v-4d512e2a data-v-4d512e2a>
<p data-v-4d512e2a data-v-4d512e2a>Now we are ready to plot the data on a map to explore any inherent relationships:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token comment" data-v-4d512e2a data-v-4d512e2a># plot the boundaries of Manhattan & Brooklyn as a base</span>
ax <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>isin<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Brooklyn'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>plot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>
    figsize<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>18</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>16</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> linewidth<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> color<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'black'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># draw rings around the centroid of Manhattan (optional)</span>
nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>\
    centroid<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>buffer</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.1</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>plot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>ax<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span>ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> linestyle<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'--'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> color<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'grey'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
                                       linewidth<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>\
    centroid<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>buffer</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.15</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>plot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>ax<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span>ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> linestyle<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'--'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> color<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'grey'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
                                        linewidth<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>\
    centroid<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>buffer</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.2</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>boundary<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>plot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>ax<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span>ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> linestyle<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'--'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> color<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'grey'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
                                       linewidth<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
<span class="token comment" data-v-4d512e2a data-v-4d512e2a># plot individual houses using sales price as color</span>
bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>></span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span>
          <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>3e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>plot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>
    ax<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span>ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> column<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> legend<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token boolean" data-v-4d512e2a data-v-4d512e2a>True</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> cmap<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Spectral'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> alpha<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.5</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
    legend_kwds<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>{</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'shrink'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>0.6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>}</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>set_axis_off<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>;</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/sale_price_map.fbcea6f.png#img-full" alt="missing-image" data-v-34c0681c></div><p></p>
<p data-v-4d512e2a data-v-4d512e2a>Next we need to measure the distance between every house in Brooklyn to the Manhattan shoreline. To do this we need to find the <a href="https://en.wikipedia.org/wiki/Closest_pair_of_points_problem" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>closest point</a> on the Manhattan boundary/shoreline to a given house. Shapely has a <code data-v-4d512e2a data-v-4d512e2a>.nearest_points()</code> function that makes this process easier. Below we create a function call <code data-v-4d512e2a data-v-4d512e2a>nearest</code> that takes a point and a collection of geometries as input and returns the distance between the first point and the closest point on the geometries. We will use the <code data-v-4d512e2a data-v-4d512e2a>unary_union</code> method in Geopandas on the Manhattan geometry to get the union of it's boundaries:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token comment" data-v-4d512e2a data-v-4d512e2a># get just the geometry of Manhattan</span>
mn <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>loc<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span>nyc_geo<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'boro_name'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>==</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># nearest function to return the closest distance</span>
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>def</span> <span class="token function" data-v-4d512e2a data-v-4d512e2a>nearest</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> pts<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span>
    <span class="token keyword" data-v-4d512e2a data-v-4d512e2a>return</span> nearest_points<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>
        point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> pts<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>1</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>distance<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>
        point<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># unionize the Manhattan geometry</span>
mn_pt <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> mn<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>geometry<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>unary_union

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># create a new column with the distances for every house in Brooklyn</span>
bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dist_manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'geom'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>apply</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token keyword" data-v-4d512e2a data-v-4d512e2a>lambda</span> x<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span> nearest<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>x<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> mn_pt<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>To measure the correlation between to variables in Python, we can use the <a href="https://en.wikipedia.org/wiki/SciPy" rel="nofollow noopener noreferrer" target="_blank" data-v-4d512e2a data-v-4d512e2a>Scipy</a> (scientific computing) library that comes built in with many instances of Python. The library has a statistical computing module called <code data-v-4d512e2a data-v-4d512e2a>stats</code> containing a <code data-v-4d512e2a data-v-4d512e2a>pearsonr</code> class that we will use to analyze the relationship between house prices and their distances to Manhattan. The pearsonr function returns the P value and correlation coefficient (values between -1 to +1), which tell us the strength of the relationship, 1 being a perfect positive correlation and -1 perfect negative correlation. However, correlation is usually visualized on a scatter plot to get an immediate visual understanding. We can also utilize the matplotlib library to do the scatter plot:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>pearsonr<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dist_manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>You should see approximate values of: <code data-v-4d512e2a data-v-4d512e2a>(-0.4610971045980508, 0.0)</code> The first number is the correlation coefficient which suggests a negative correlation, meaning the smaller the distance to Manhattan, the higher the house prices. A score of -0.46 implies that distance to Manhattan explains ~46% of the variation in Brooklyn houses, almost validating our initial assumption. While the second number is the P value, this is the likelihood that we'd see the same results after numerous attempts of the same piece of analysis, the lower the P value the more confident we can be in the results – a good thing.</p>
<p data-v-4d512e2a data-v-4d512e2a>Plotting this on a scatter will show:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>plt<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>scatter<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dist_manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>;</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/sale_price_scatter.eb0ede5.png#img-right" alt="missing-image" data-v-34c0681c></div>
Looking at the scatter plot, we do not see any clear pattern in the data to suggest such a strong relationship between the two variables. This suggests that there are other confounding factors that are "contaminating" our analysis. For example, although we have filtered the data to only look at single family homes, there are countless factors that go into the sale price of a home, such as square footage, material finishes, year built, etc. With any study of correlation, it is best to control for these factors (or confounding variables) as much as possible. Below we will restrict our data to only consider homes sold in 2019, are within 1000-2000 sqft, and built before 1980. This way we are only analyzing distance as a factor.<p></p>
<p data-v-4d512e2a data-v-4d512e2a>The <code data-v-4d512e2a data-v-4d512e2a>GROSS SQUARE FEET</code> column has a text data type, so we need to confert it to a float by removing commas and negative signs, and then utilizing the <code data-v-4d512e2a data-v-4d512e2a>.astype()</code> function to convert to a float:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>sqft <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'GROSS SQUARE FEET'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>str</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>replace<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>',|- '</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>''</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>astype<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>float</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>Next we will create a series of conditional masks to constrain the square footage, sale price, year built and ensure there are no commercial units within a house:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>mask1 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>sqft <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;=</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>2000</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>sqft <span class="token operator" data-v-4d512e2a data-v-4d512e2a>>=</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1000</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
mask3 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>></span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>3e6</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
mask5 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'COMMERCIAL UNITS'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1.</span>
mask6 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'YEAR BUILT'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;=</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>1980</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>Finally, in order to ensure the sale date is within 2019, we need to convert the <code data-v-4d512e2a data-v-4d512e2a>SALE DATE</code> column to a datetime object. We will utlize the Pandas <code data-v-4d512e2a data-v-4d512e2a>.to_datetime()</code> function to do this:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>dates <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> pd<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>to_datetime<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE DATE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
mask4 <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>dates<span class="token operator" data-v-4d512e2a data-v-4d512e2a>&lt;</span> <span class="token string" data-v-4d512e2a data-v-4d512e2a>'2019-12-31'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>dates<span class="token operator" data-v-4d512e2a data-v-4d512e2a>></span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'2019-01-01'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>Now if we apply all of these to our GeoDataFrame we should see a much smaller sample of data:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a>data <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> bk_houses<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask1<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask2<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask3<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask4<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask5<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span> <span class="token operator" data-v-4d512e2a data-v-4d512e2a>&</span> <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>mask6<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>
<span class="token keyword" data-v-4d512e2a data-v-4d512e2a>print</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>shape<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a>You should see a sample of <code data-v-4d512e2a data-v-4d512e2a>(217, 37)</code>. Now we can rerun the the Pearson R correlation and plot a scatter with a regression line to see the true nature of the relationship between house prices and distances to Manhattan. This time we will add a title, make the dots transparent, and give them an edge color to make the visualization pop. We will once again use the Seaborn library which makes this type of visualization easy:</p>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token keyword" data-v-4d512e2a data-v-4d512e2a>print</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>pearsonr<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dist_manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># output</span>
<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token operator" data-v-4d512e2a data-v-4d512e2a>-</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.33425418464725665</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> <span class="token number" data-v-4d512e2a data-v-4d512e2a>4.6266592679351666e-07</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-4d512e2a data-v-4d512e2a><pre class="language-python line-numbers" data-v-4d512e2a data-v-4d512e2a><code data-v-4d512e2a data-v-4d512e2a><span class="token comment" data-v-4d512e2a data-v-4d512e2a># define x and y variables used for plotting</span>
x <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dist_manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>
y <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> data<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'SALE PRICE'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># set the background color and size</span>
sns<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span><span class="token builtin" data-v-4d512e2a data-v-4d512e2a>set</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>rc<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>{</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'figure.figsize'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>14.7</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>11.27</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>}</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
sns<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>set_style<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>"white"</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
<span class="token comment" data-v-4d512e2a data-v-4d512e2a># create the Seaborn regression plot</span>
<span class="token comment" data-v-4d512e2a data-v-4d512e2a># we will use dictionaries to change the line styles of the plot</span>
ax <span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span> sns<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>regplot<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span>x<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> y<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span> ci<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token boolean" data-v-4d512e2a data-v-4d512e2a>None</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
            scatter_kws<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>{</span>
                <span class="token string" data-v-4d512e2a data-v-4d512e2a>'color'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'orange'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
                <span class="token string" data-v-4d512e2a data-v-4d512e2a>'edgecolor'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'black'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
                <span class="token string" data-v-4d512e2a data-v-4d512e2a>'alpha'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>}</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
           line_kws<span class="token operator" data-v-4d512e2a data-v-4d512e2a>=</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>{</span>
               <span class="token string" data-v-4d512e2a data-v-4d512e2a>'color'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'red'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
               <span class="token string" data-v-4d512e2a data-v-4d512e2a>'linestyle'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'dashed'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>,</span>
               <span class="token string" data-v-4d512e2a data-v-4d512e2a>'linewidth'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>:</span><span class="token number" data-v-4d512e2a data-v-4d512e2a>0.75</span>
           <span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>}</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>;</span>
<span class="token comment" data-v-4d512e2a data-v-4d512e2a># label the x and y axis</span>
plt<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>xlabel<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Distance to Manhattan'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
plt<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>ylabel<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'Sale price $ (millions)'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>

<span class="token comment" data-v-4d512e2a data-v-4d512e2a># remove the top and right axis</span>
ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>spines<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'right'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>set_visible<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token boolean" data-v-4d512e2a data-v-4d512e2a>False</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
ax<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>spines<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>[</span><span class="token string" data-v-4d512e2a data-v-4d512e2a>'top'</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>]</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>.</span>set_visible<span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>(</span><span class="token boolean" data-v-4d512e2a data-v-4d512e2a>False</span><span class="token punctuation" data-v-4d512e2a data-v-4d512e2a>)</span>
</code></pre></div>
<p data-v-4d512e2a data-v-4d512e2a></p><div class="img" data-v-34c0681c data-v-4d512e2a><img src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/img/sale_price_corr.e5151ac.png#img-full" alt="missing-image" data-v-34c0681c></div>
As you can see, controlling for square footage, year built, sale date, etc increased the strength of the correlation coefficient, revealing a slightly stronger relationship between house price and distance to Manhattan.<p></p>
<hr data-v-4d512e2a data-v-4d512e2a>
<br data-v-4d512e2a data-v-4d512e2a>
<h2 id="challenge" data-v-4d512e2a data-v-4d512e2a><a href="#challenge" aria-hidden="true" tabindex="-1" data-v-4d512e2a data-v-4d512e2a><span class="icon icon-link" data-v-4d512e2a data-v-4d512e2a></span></a>Challenge</h2>
<p data-v-4d512e2a data-v-4d512e2a>Using the closest nearest point function, see if you can calculate the nearest tree for each house in the sale price dataset.</p></div></div> <div class="postfooter" data-v-4d512e2a></div></div></div><div class="copyright" data-v-2354a23f data-v-529cb57d><a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-2354a23f><img alt="Creative Commons License" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" style="border-width:0" data-v-2354a23f></a><br data-v-2354a23f>This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" data-v-2354a23f>Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
</div></div> <div id="graph-column" data-v-529cb57d><div data-fetch-key="data-v-9c60a860:0" class="graph" data-v-9c60a860 data-v-529cb57d>
  [] 
</div></div></div></div></div><script defer src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/static/1652167150/modules/10-spatial-python/104-spatial-analysis-correlation/state.js"></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1cd9192.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/9e6e7d4.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/5c176c2.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/1033e76.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/d87c597.js" defer></script><script src="https://smorgasbord-dist.s3.us-east-1.amazonaws.com/b6f68fa.js" defer></script>
  </body>
</html>
